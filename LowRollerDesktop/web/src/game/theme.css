:root{ --bg:#20333F; --cream:#E6E1C9; --gold:#D4AF37; --felt:#1d3b3a33; }
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--cream);font-family:system-ui,ui-sans-serif,Segoe UI}
.screen{min-height:100vh;display:flex;flex-direction:column}
.topbar{display:flex;align-items:center;padding:12px 16px;border-bottom:1px solid #ffffff22;background:linear-gradient(180deg,#223a47,#1b2f3a)}
.topbar .brand{font-weight:700;letter-spacing:.1em;color:var(--gold)}
.topbar .spacer{flex:1}
.table{display:flex;flex-direction:column;gap:16px;padding:16px}
.table .table-grid{display:grid;grid-template-columns:280px 1fr;gap:16px}
.hud{display:grid;grid-template-columns:1fr auto;gap:12px;align-items:center}
.pot{font-weight:700}
.timer{padding:4px 8px;border:1px solid #ffffff33;border-radius:6px}
.board{grid-column:1/-1;display:flex;gap:12px;flex-wrap:wrap}
.card{border:1px solid #ffffff22;border-radius:8px;padding:8px 12px;background:#0e1a21cc;box-shadow:0 8px 20px #00000044}
.card.active{outline:2px solid var(--gold)}
.tray{display:flex;justify-content:center;align-items:center;min-height:160px;background:radial-gradient(circle at 50% 30%, #0f2026, #0a1419);border-radius:12px;border:1px solid #ffffff22;box-shadow:inset 0 0 60px #00000066}
.dice-row{display:flex;gap:12px;flex-wrap:wrap;justify-content:center;padding:16px}
.die{width:72px;height:72px;border-radius:12px;border:1px solid #ffffff44;background:#13242c;position:relative;transform:translateZ(0);transition:transform .2s}
.die:hover{transform:translateY(-2px) rotate(1deg)}
.die.picked{outline:2px solid var(--gold);box-shadow:0 0 12px var(--gold)}
.die-big{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;font-size:28px;font-weight:800}
.hint{opacity:.6}
.controls{display:flex;gap:8px;justify-content:center}
button{background:#122028;color:var(--cream);border:1px solid #ffffff33;border-radius:8px;padding:10px 14px;cursor:pointer}
button:disabled{opacity:.4;cursor:not-allowed}
.replay{padding:16px}
.event{background:#0e1a21cc;border:1px solid #ffffff22;border-radius:8px;padding:12px;overflow:auto}
.rules{border:1px solid #ffffff22;border-radius:12px;background:#0e1a21cc;padding:12px}
.rules-header{display:flex;align-items:center;gap:8px;margin-bottom:8px}
.rules .spacer{flex:1}
.rules ul{margin:0;padding-left:18px;opacity:.9}
.small{font-size:12px;padding:4px 8px}
.namebox{display:flex;align-items:center;gap:8px;margin-right:12px}
.namebox label{font-size:12px;opacity:.8}
.namebox input{background:#102029;color:var(--cream);border:1px solid #ffffff33;border-radius:6px;padding:6px 8px;min-width:160px}
.pregame{display:flex;justify-content:center;align-items:flex-start;padding:32px}
.card.big{width:720px;border:1px solid #ffffff22;border-radius:12px;background:#0e1a21cc;padding:16px;box-shadow:0 12px 30px #00000055}
.card.big .title{font-size:20px;margin-bottom:12px;color:var(--gold)}
.row{display:flex;align-items:center;gap:12px;margin:10px 0}
.row label{min-width:140px;opacity:.85}
.row .value{flex:1;display:flex;align-items:center;gap:12px}
.row input[type=number]{background:#102029;color:var(--cream);border:1px solid #ffffff33;border-radius:6px;padding:6px 8px;width:100px}
.row .suffix{opacity:.7}
.slider{flex:1}
.actions{display:flex;justify-content:flex-end;margin-top:16px}
.note{opacity:.7;font-size:12px;margin-top:8px}
.modal-backdrop{position:fixed;inset:0;background:#0007;display:flex;justify-content:center;align-items:center}
.modal{background:#0e1a21; border:1px solid #ffffff33; border-radius:12px; padding:16px; width:360px}
.modal-title{font-weight:700;margin-bottom:8px}
.modal-body{opacity:.9;margin-bottom:12px}
.modal-actions{display:flex;gap:8px;justify-content:flex-end}
.danger{border-color:#a33}
/* Dice visuals + animation */
.cube{ width:72px; height:72px; border-radius:12px; border:1px solid #ffffff33;
  background: radial-gradient(circle at 30% 30%, #1b2d36, #0f1c22);
  position:relative; transform:translateZ(0); transition:transform .15s, box-shadow .15s;
  box-shadow: inset 0 4px 12px #0008, 0 6px 14px #0006;
}
.cube:hover{ transform: translateY(-2px) rotate(1deg); }
.cube.picked{ outline:2px solid var(--gold); box-shadow: 0 0 12px var(--gold), inset 0 4px 12px #0008; }

.pips{ position:absolute; inset:0; display:grid; grid-template-columns:repeat(3, 1fr); grid-template-rows:repeat(3, 1fr); }
.pip{
  width:12px; height:12px; border-radius:50%;
  background: radial-gradient(circle at 30% 30%, #fff, #d4d4d4);
  justify-self:center; align-self:center;
  transform: translate(calc((var(--x) - 2) * 16px), calc((var(--y) - 2) * 16px));
  box-shadow: inset 0 1px 2px #0004;
}

/* playful “shake” when dice change */
.dice-row{ display:flex; gap:12px; flex-wrap:wrap; justify-content:center; padding:16px; }
.dice-row.shake-1 .cube{ animation: shake .25s ease; }
@keyframes shake {
  0% { transform: translate(0,0) rotate(0deg); }
  30% { transform: translate(-2px, 1px) rotate(-2deg); }
  60% { transform: translate(2px, -1px) rotate(2deg); }
  100% { transform: translate(0,0) rotate(0deg); }
}

/* Dice visuals + animation */
.cube{ width:72px; height:72px; border-radius:12px; border:1px solid #ffffff33;
  background: radial-gradient(circle at 30% 30%, #1b2d36, #0f1c22);
  position:relative; transform:translateZ(0); transition:transform .15s, box-shadow .15s;
  box-shadow: inset 0 4px 12px #0008, 0 6px 14px #0006;
}
.cube:hover{ transform: translateY(-2px) rotate(1deg); }
.cube.picked{ outline:2px solid var(--gold); box-shadow: 0 0 12px var(--gold), inset 0 4px 12px #0008; }

.pips{ position:absolute; inset:0; display:grid; grid-template-columns:repeat(3, 1fr); grid-template-rows:repeat(3, 1fr); }
.pip{
  width:12px; height:12px; border-radius:50%;
  background: radial-gradient(circle at 30% 30%, #fff, #d4d4d4);
  justify-self:center; align-self:center;
  transform: translate(calc((var(--x) - 2) * 16px), calc((var(--y) - 2) * 16px));
  box-shadow: inset 0 1px 2px #0004;
}

/* playful “shake” */
.dice-row{ display:flex; gap:12px; flex-wrap:wrap; justify-content:center; padding:16px; }
.dice-row.shake-1 .cube{ animation: shake .25s ease; }
@keyframes shake {
  0% { transform: translate(0,0) rotate(0deg); }
  30% { transform: translate(-2px, 1px) rotate(-2deg); }
  60% { transform: translate(2px, -1px) rotate(2deg); }
  100% { transform: translate(0,0) rotate(0deg); }
}

/* SVG dice styling (precise pips) */
.svgdie {
  width: 72px; height: 72px; padding: 0; border: none;
  background: transparent; cursor: pointer;
  border-radius: 14px; /* match svg corner */
  transition: transform .18s ease, box-shadow .18s ease;
  box-shadow: 0 6px 14px #0006;
}
.svgdie:hover { transform: translateY(-2px) rotate(.5deg); }
.svgdie.picked { outline: 2px solid var(--gold); box-shadow: 0 0 14px var(--gold), 0 6px 14px #0008; }

.svgdie.rolling { animation: die-roll .25s ease; }
@keyframes die-roll {
  0% { transform: translateY(-2px) rotate(-8deg) scale(.96); }
  60% { transform: translateY(0) rotate(4deg) scale(1.02); }
  100% { transform: translateY(0) rotate(0) scale(1); }
}

.die-bg {
  fill: url(#grad-die-bg);
  filter: drop-shadow(0 2px 4px rgba(0,0,0,.5));
}
.die-inset { fill: rgba(15, 28, 34, .9); }

.pip-svg {
  fill: #fff;
  filter: drop-shadow(0 1px 1.5px rgba(0,0,0,.45));
}

/* svg gradient (use CSS paint via <defs> fallback) */
svg defs { display: block; }

/* PreGame layout improvements */
.pregame .card.big { max-width: 820px; margin: 0 auto; }
.pregame .row { display: grid; grid-template-columns: 180px 1fr; gap: 12px; align-items: center; margin: 10px 0; }
.pregame .row > label { opacity: .85; }
.pregame .value { width: 100%; }

.seats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 12px;
}
.seat-card {
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.12);
  border-radius: 12px;
  padding: 10px;
  display: grid;
  gap: 8px;
}
.seat-head {
  display: flex; justify-content: space-between; align-items: center;
}
.seat-title { font-weight: 600; }
.chk { display: inline-flex; gap: 8px; align-items: center; }
.name-input { width: 100%; }

.money-input { display: inline-flex; gap: 6px; align-items: center; }
.money-input > span { opacity: .8; }
.money-input input { width: 80px; text-align: right; }
.bot-row { display: inline-flex; gap: 8px; align-items: center; }